var k=Object.create,a=Object.defineProperty,O=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,S=Object.getOwnPropertyNames,_=Object.getOwnPropertyDescriptor;var h=t=>a(t,"__esModule",{value:!0});var $=(t,e)=>{for(var n in e)a(t,n,{get:e[n],enumerable:!0})},E=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of S(e))!L.call(t,i)&&i!=="default"&&a(t,i,{get:()=>e[i],enumerable:!(n=_(e,i))||n.enumerable});return t},s=t=>t&&t.__esModule?t:E(h(a(t!=null?k(O(t)):{},"default",{value:t,enumerable:!0})),t);h(exports);$(exports,{activate:()=>A});var r=s(require("coc.nvim"));var x=s(require("coc.nvim"));var d=s(require("coc.nvim"));function o(t,e){return d.workspace.getConfiguration("coc-ext").get(t,e)}var T=s(require("path"));function v(t){return typeof t=="string"?t:t instanceof String?t.toString():JSON.stringify(t,null,2)}var p=s(require("path")),w=class{constructor(){this.channel=x.window.createOutputChannel("coc-ext"),this.detail=o("log.detail",!1)===!0,this.level=o("log.level",1)}dispose(){return this.channel.dispose()}logLevel(e,n){var m;let i=new Date,l=v(n);if(this.detail){let c=(m=new Error().stack)==null?void 0:m.split(`
`);if(c&&c.length>=4){let g=/at ((.*) \()?([^:]+):(\d+):(\d+)\)?/g.exec(c[3]);if(g){let y=p.default.basename(g[3]),C=g[4];this.channel.appendLine(`${i.toISOString()} ${e} [${y}:${C}] ${l}`);return}}}let b=p.default.basename(__filename);this.channel.appendLine(`${e} [${b}] ${l}`)}debug(e){this.level>0||this.logLevel("D",e)}info(e){this.level>1||this.logLevel("I",e)}warn(e){this.level>2||this.logLevel("W",e)}error(e){this.logLevel("E",e)}},f=new w;var u;async function A(t){t.logger.info("coc-ext-erlang works"),f.info("coc-ext-erlang works"),f.info(r.workspace.getConfiguration("coc-ext.erlang"));let e=o("erlang.erlang_ls_path","/bin/erlang_ls"),n={documentSelector:[{scheme:"file",language:"erlang"}],initializationOptions:""},l={command:e,args:["--transport","stdio"],transport:r.TransportKind.stdio};u=new r.LanguageClient("erlang_ls",l,n),u.start(),u.onReady().then(()=>{r.window.showMessage("coc-erlangls is ready")})}
