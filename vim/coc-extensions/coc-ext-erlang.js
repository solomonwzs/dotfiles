var k=Object.create,l=Object.defineProperty,S=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty,L=Object.getOwnPropertyNames,O=Object.getOwnPropertyDescriptor;var h=t=>l(t,"__esModule",{value:!0});var _=(t,n)=>{for(var e in n)l(t,e,{get:n[e],enumerable:!0})},T=(t,n,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of L(n))!$.call(t,r)&&r!=="default"&&l(t,r,{get:()=>n[r],enumerable:!(e=O(n,r))||e.enumerable});return t},s=t=>t&&t.__esModule?t:T(h(l(t!=null?k(S(t)):{},"default",{value:t,enumerable:!0})),t);h(exports);_(exports,{activate:()=>A});var i=s(require("coc.nvim"));var x=s(require("coc.nvim"));var d=s(require("coc.nvim"));function o(t,n){return d.workspace.getConfiguration("coc-ext").get(t,n)}var E=s(require("path"));function v(t){return typeof t=="string"?t:t instanceof String?t.toString():JSON.stringify(t,null,2)}var f=s(require("path")),w=class{constructor(){this.channel=x.window.createOutputChannel("coc-ext"),this.detail=o("log.detail",!1)===!0,this.level=o("log.level",1)}dispose(){return this.channel.dispose()}logLevel(n,e){var m;let r=new Date,a=v(e);if(this.detail){let c=(m=new Error().stack)==null?void 0:m.split(`
`);if(c&&c.length>=4){let g=/at ((.*) \()?([^:]+):(\d+):(\d+)\)?/g.exec(c[3]);if(g){let y=f.default.basename(g[3]),C=g[4];this.channel.appendLine(`${r.toISOString()} ${n} [${y}:${C}] ${a}`);return}}}let b=f.default.basename(__filename);this.channel.appendLine(`${n} [${b}] ${a}`)}debug(n){this.level>0||this.logLevel("D",n)}info(n){this.level>1||this.logLevel("I",n)}warn(n){this.level>2||this.logLevel("W",n)}error(n){this.logLevel("E",n)}},p=new w;var u;async function A(t){t.logger.info("coc-ext-erlang works"),p.info("coc-ext-erlang works"),p.info(i.workspace.getConfiguration("coc-ext.erlang"));let n=o("erlang.erlangLsPath","/bin/erlang_ls"),e={documentSelector:[{scheme:"file",language:"erlang"}],initializationOptions:""},a={command:n,args:["--transport","stdio"],transport:i.TransportKind.stdio};u=new i.LanguageClient("erlang_ls",a,e),u.start(),u.onReady().then(()=>{i.window.showMessage("coc-erlangls is ready")})}
